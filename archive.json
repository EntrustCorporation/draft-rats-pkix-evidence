{
  "magic": "E!vIA5L86J2I",
  "timestamp": "2024-11-26T00:05:28.642760+00:00",
  "repo": "EntrustCorporation/draft-rats-pkix-evidence",
  "labels": [
    {
      "name": "bug",
      "description": "Something isn't working",
      "color": "d73a4a"
    },
    {
      "name": "documentation",
      "description": "Improvements or additions to documentation",
      "color": "0075ca"
    },
    {
      "name": "duplicate",
      "description": "This issue or pull request already exists",
      "color": "cfd3d7"
    },
    {
      "name": "enhancement",
      "description": "New feature or request",
      "color": "a2eeef"
    },
    {
      "name": "good first issue",
      "description": "Good for newcomers",
      "color": "7057ff"
    },
    {
      "name": "help wanted",
      "description": "Extra attention is needed",
      "color": "008672"
    },
    {
      "name": "invalid",
      "description": "This doesn't seem right",
      "color": "e4e669"
    },
    {
      "name": "question",
      "description": "Further information is requested",
      "color": "d876e3"
    },
    {
      "name": "wontfix",
      "description": "This will not be worked on",
      "color": "ffffff"
    }
  ],
  "issues": [
    {
      "number": 1,
      "id": "I_kwDOMB5Mfc6LY9TU",
      "title": "Write a usecases section for the intro",
      "url": "https://github.com/EntrustCorporation/draft-rats-pkix-evidence/issues/1",
      "state": "OPEN",
      "author": "ounsworth",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2024-06-06T15:44:03Z",
      "updatedAt": "2024-07-05T08:41:52Z",
      "closedAt": null,
      "comments": [
        {
          "author": "optnfast",
          "authorAssociation": "COLLABORATOR",
          "body": "A few uses cases that come to mind:\r\n\r\n1. A Certification Authority receives a certificate signing request and wishes to verify that the subject public key was generated in an HSM (for example to satisfy CA/B Forum subscriber private key verification requirement). They may also wish to verify that the operations the HSM will allow for the corresponding private key are consistent with the purpose of the requested certificate.\r\n2. A user of a Cloud Service Provider's 'Bring Your Own Key' service wishes to transfer their locally-generated key securely to the CSP's service by encrypting it under the CSP's public key. As part of their due diligence on the CSP's key they wish to verify (1) that it was generated by an HSM and (2) may only be used to unwrap the key into an HSM (i.e. unwrap permission but not decrypt permission).\r\n3. An auditor of an identity provision service (or a competent end user) may wish to verify that keys representing end-user identities are held in an HSM and have permissions that are in line with the applicable regulations. For in example in the case of eIDAS, they may wish verify that the protection arrangements for assigned keys cannot be changed.\r\n\r\nAll of these can be done with a proprietary attestation scheme, but a standardized scheme would be expected to reduce the burden on relying parties, by allowing to cope with multiple HSM designs with a single verifier implementation. (They would still need to configure at least one trust anchor per HSM vendor.)\r\n\r\nI'm sure there are more!",
          "createdAt": "2024-06-10T10:41:46Z",
          "updatedAt": "2024-06-10T10:41:46Z"
        },
        {
          "author": "jpfiset",
          "authorAssociation": "COLLABORATOR",
          "body": "There is a use case where a manufacturer needs to perform an operation at a distance on one of its device. One of these operations could be a re-certification, where the manufacturer provides a certificate for a new key generated by the device.\r\n\r\nThe attestation from the device would provide enough information to the manufacturer to ensure that the manufacturer is emitting a certificate for a device previously manufactured by it.\r\n\r\nThis is very similar to a CA emitting a certificate for a public key. However, there must be claims to support the proper recognition.\r\n\r\nAgain, this could be accomplished using proprietary protocols. However, reusing common protocols and tools might lessen the burden of development and improve the security stance as it is widely scrutinized.",
          "createdAt": "2024-06-17T13:53:11Z",
          "updatedAt": "2024-06-17T13:53:11Z"
        },
        {
          "author": "jpfiset",
          "authorAssociation": "COLLABORATOR",
          "body": "There is a use case where two devices are transferring keying material that requires identification. This identification could be based on application concerns (same domain, same realm, same customer, specific serial number).\r\n\r\nIn those circumstances, there is a need for a device to associate a transfer key with a device's attributes. The attestation protocol can be used to this end. \r\n\r\nAgain, this can be accomplished using a proprietary means. However, resources in HSMs are limited and there are gains to be accomplished by reusing the same protocol.",
          "createdAt": "2024-06-17T13:58:22Z",
          "updatedAt": "2024-06-17T13:58:22Z"
        },
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "I added the use cases here:\r\nhttps://github.com/EntrustCorporation/draft-rats-pkix-evidence/pull/4\r\n",
          "createdAt": "2024-07-05T08:41:51Z",
          "updatedAt": "2024-07-05T08:41:51Z"
        }
      ]
    },
    {
      "number": 2,
      "id": "I_kwDOMB5Mfc6NeQZh",
      "title": "From Tiru: define how this format could be used to re-publish evidence claims in a certificate",
      "url": "https://github.com/EntrustCorporation/draft-rats-pkix-evidence/issues/2",
      "state": "CLOSED",
      "author": "ounsworth",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "While the primary goal of this draft is to convey attestation data from an HSM to a CA, Tiru points out that it could also be used to put evidence claims into a published certificate.\r\n\r\nThe obvious way to do that would be to add a section to this draft that defines\r\n\r\n```\r\next-evidenceClaims EXTENSION ::= {\r\n  SYNTAX claims SET SIZE (1..MAX) OF EVIDENCE-CLAIM\r\n  IDENTIFIED BY TBD\r\n}\r\n```\r\nwhich is basically an un-signed version of our evidence claims set as an X.509v3 extension.\r\n\r\nThis would also need a pretty robust Privacy Considerations section suggesting, for example, that CAs should include in their cert profile a list of evidence claim (identified by OID) which MAY be copied from CSR to cert, and any other claims MUST NOT be copied.\r\n\r\n",
      "createdAt": "2024-06-25T19:38:48Z",
      "updatedAt": "2024-07-01T14:33:43Z",
      "closedAt": "2024-07-01T14:33:43Z",
      "comments": [
        {
          "author": "tireddy2",
          "authorAssociation": "CONTRIBUTOR",
          "body": "Raised a PR https://github.com/EntrustCorporation/draft-rats-pkix-evidence/pull/3",
          "createdAt": "2024-06-26T10:40:20Z",
          "updatedAt": "2024-06-26T10:40:20Z"
        },
        {
          "author": "ounsworth",
          "authorAssociation": "COLLABORATOR",
          "body": "PR has been merged. Hence closing this ticket.",
          "createdAt": "2024-07-01T14:33:43Z",
          "updatedAt": "2024-07-01T14:33:43Z"
        }
      ]
    },
    {
      "number": 5,
      "id": "I_kwDOMB5Mfc6PxUxv",
      "title": "The ASN.1 you're looking for",
      "url": "https://github.com/EntrustCorporation/draft-rats-pkix-evidence/issues/5",
      "state": "OPEN",
      "author": "ounsworth",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "draft-ounsworth-rats-pkix-evidence-00 says:\r\n\r\n   CertHash ::= SEQUENCE {\r\n       hash AlgorithmIdentifier,\r\n       value OCTET STRING\r\n   }\r\n   -- There is bound to already exist an ASN.1 structure for this somewhere.\r\n\r\n---\r\n\r\nRFC 5126:\r\n \r\nESSCertIDv2 ::= SEQUENCE {\r\n     hashAlgorithm           AlgorithmIdentifier\r\n        --    DEFAULT {algorithm id-sha256} --,\r\n     certHash                Hash,\r\n     issuerSerial            IssuerSerial OPTIONAL\r\n}\r\n \r\nRuss\r\n",
      "createdAt": "2024-07-16T21:27:26Z",
      "updatedAt": "2024-07-16T21:27:26Z",
      "closedAt": null,
      "comments": []
    },
    {
      "number": 6,
      "id": "I_kwDOMB5Mfc6Qt6vI",
      "title": "Add a definition for hwserial",
      "url": "https://github.com/EntrustCorporation/draft-rats-pkix-evidence/issues/6",
      "state": "OPEN",
      "author": "ounsworth",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "It's missing a section",
      "createdAt": "2024-07-24T15:58:21Z",
      "updatedAt": "2024-07-24T15:58:21Z",
      "closedAt": null,
      "comments": []
    },
    {
      "number": 7,
      "id": "I_kwDOMB5Mfc6Qt_a7",
      "title": "Add an appendix with the list of new claims that are not in EAT",
      "url": "https://github.com/EntrustCorporation/draft-rats-pkix-evidence/issues/7",
      "state": "OPEN",
      "author": "ounsworth",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2024-07-24T16:07:23Z",
      "updatedAt": "2024-07-24T16:07:23Z",
      "closedAt": null,
      "comments": []
    },
    {
      "number": 8,
      "id": "I_kwDOMB5Mfc6QuGVx",
      "title": "Change \"fipsmode\" to \"fipsboot\"",
      "url": "https://github.com/EntrustCorporation/draft-rats-pkix-evidence/issues/8",
      "state": "OPEN",
      "author": "ounsworth",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "I think that would help clarity.",
      "createdAt": "2024-07-24T16:21:47Z",
      "updatedAt": "2024-07-24T16:21:47Z",
      "closedAt": null,
      "comments": []
    },
    {
      "number": 9,
      "id": "I_kwDOMB5Mfc6RMF01",
      "title": "SEQUENCE vs SET of CLAIM",
      "url": "https://github.com/EntrustCorporation/draft-rats-pkix-evidence/issues/9",
      "state": "OPEN",
      "author": "ounsworth",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "The core question is whether / how to handle multiple copies of each claim.",
      "createdAt": "2024-07-29T16:35:42Z",
      "updatedAt": "2024-07-29T16:35:42Z",
      "closedAt": null,
      "comments": []
    },
    {
      "number": 10,
      "id": "I_kwDOMB5Mfc6RMH24",
      "title": "CMS-lite vs CMS-profile vs full CMS",
      "url": "https://github.com/EntrustCorporation/draft-rats-pkix-evidence/issues/10",
      "state": "OPEN",
      "author": "ounsworth",
      "authorAssociation": "COLLABORATOR",
      "assignees": [
        "jpfiset"
      ],
      "labels": [],
      "body": "We have three design options:\r\n\r\n1. \"CMS-lite\": We define new ASN.1 structures which are similar to CMS, but not actually CMS.\r\n\r\n2. \"CMS-profile\": We define which features of CMS we are allowing to be used here.\r\n\r\n3. \"Full CMS\": all present and future features of CMS are allowed here.",
      "createdAt": "2024-07-29T16:40:41Z",
      "updatedAt": "2024-08-26T16:56:31Z",
      "closedAt": null,
      "comments": [
        {
          "author": "hannestschofenig",
          "authorAssociation": "COLLABORATOR",
          "body": "JP to write a summary",
          "createdAt": "2024-08-26T16:56:30Z",
          "updatedAt": "2024-08-26T16:56:30Z"
        }
      ]
    },
    {
      "number": 11,
      "id": "I_kwDOMB5Mfc6RMTPm",
      "title": "Add a section on cert profile",
      "url": "https://github.com/EntrustCorporation/draft-rats-pkix-evidence/issues/11",
      "state": "OPEN",
      "author": "ounsworth",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "We should add a section that describes what CA/RAs are supposed to do with this attestation data. IE we expect that any sort of evidence can be carried in a CSR, and the CA/RA is expected to apply its cert policy / CPS to decide if this evidence meets the bar for issuing this certificate.",
      "createdAt": "2024-07-29T17:05:05Z",
      "updatedAt": "2024-07-29T18:02:01Z",
      "closedAt": null,
      "comments": [
        {
          "author": "nedmsmith",
          "authorAssociation": "COLLABORATOR",
          "body": "It seems that description combines the verifier and RP roles in the CA. It would be nice if both roles are described separately. For example the CA forwards evidence to an internal Verifier that returns an attestation result. Th CA then determines whether to issue a certificate based on the Attestation Results. \n\nIn a more complex use case, an RA might embed the Verifier and the Attestation Results flow to the CA...",
          "createdAt": "2024-07-29T18:01:59Z",
          "updatedAt": "2024-07-29T18:01:59Z"
        }
      ]
    },
    {
      "number": 12,
      "id": "I_kwDOMB5Mfc6VWpB7",
      "title": "Richard Kettlewell feedback",
      "url": "https://github.com/EntrustCorporation/draft-rats-pkix-evidence/issues/12",
      "state": "OPEN",
      "author": "ounsworth",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "That seems like a good start.\r\n \r\nI think it needs some concrete statements about how this works in practice.\r\n \r\nIt's hard to see how a collection of key claims is tied back to a root CA. Our HSMs already have an internal certificate hierarchy and this is going to get deeper with the introduction of multi-tenancy. The full hierarchy might, hypothetically, look something like:\r\n \r\n  root CA -(1)-> factory CA -(2)-> physical HSM master signing key -(3)-> tenant master key -(4)-> tenant per-initialization key -(5)-> application key\r\n \r\nIn principle it could be even deeper than that. Other vendors might not have the same structure and of course the details are up for discussion (quite possibly we don't need per-initialization keys for this use case), but I would expect there to be some kind of certificate hierarchy in most cases.\r\n \r\nWe should be able to say what each of the certificates 1-5 look like, where you find the verifying key, etc.\r\n \r\nMy guesses:\r\n \r\n1 could be an ordinary X.509 certificate conveyed in relatedCertificates.\r\n2 is a PkixEvidenceStatement containing platform claims about the physical HSM (including the HSM master signing key)\r\n3 is a PkixEvidenceStatement containing platform claims about the tenant - but how do we get the signing key? We can't include 2 in relatedCertificates because it's not an RFC5280 Certificate.\r\n4 seems like it should also be a PkixEvidenceStatement containing platform claims about the per-initialization key but we have the same question about how the signing key is conveyed, same issue with relatedCertificates as above.\r\n5 is obviously a PkixEvidenceStatement containing key claims but where does the verifying key come from in practice? same issues as 3, 4.",
      "createdAt": "2024-09-04T15:50:12Z",
      "updatedAt": "2024-09-04T15:50:12Z",
      "closedAt": null,
      "comments": []
    },
    {
      "number": 13,
      "id": "I_kwDOMB5Mfc6XvmFz",
      "title": "Remove NestedEvidences and just use EAT submods",
      "url": "https://github.com/EntrustCorporation/draft-rats-pkix-evidence/issues/13",
      "state": "OPEN",
      "author": "ounsworth",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "I believe that what I have in there as \"NestedEvidences\" is identical in spirit to EAT submods, so we just need to flesh out the submods claim and remove NestedEvidences.",
      "createdAt": "2024-09-24T16:18:36Z",
      "updatedAt": "2024-09-24T16:49:43Z",
      "closedAt": null,
      "comments": [
        {
          "author": "nedmsmith",
          "authorAssociation": "COLLABORATOR",
          "body": "> \"NestedEvidences\"\r\n\r\nRFC9334 describes \"layered attester\" which could be realized by DICE layering, TCG \"trust chain\" extended into PCRs, EAT submods, etc. There was a discussion early on about how sophisticated HSMs actually are. Are they roots-of-trust where the entire HSM is considered to be both Attesting Environment and Target Envronment or is there a layering aspect? \r\n\r\nIf HSMs are considered roots of trust, then the use of nested evidence / submods is actually describing multiple elements within the environment rather than describing different environments.",
          "createdAt": "2024-09-24T16:47:08Z",
          "updatedAt": "2024-09-24T16:49:43Z"
        }
      ]
    }
  ],
  "pulls": [
    {
      "number": 3,
      "id": "PR_kwDOMB5Mfc5znWHb",
      "title": "Add Evidence Claims Certificate Extension",
      "url": "https://github.com/EntrustCorporation/draft-rats-pkix-evidence/pull/3",
      "state": "MERGED",
      "author": "tireddy2",
      "authorAssociation": "CONTRIBUTOR",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2024-06-26T10:30:55Z",
      "updatedAt": "2024-07-01T14:32:42Z",
      "baseRepository": "EntrustCorporation/draft-rats-pkix-evidence",
      "baseRefName": "main",
      "baseRefOid": "cf669ff7e9030651e1825e90ae7c5b8ffcdabdff",
      "headRepository": "tireddy2/draft-rats-pkix-evidence",
      "headRefName": "main",
      "headRefOid": "849067af4a13d7e68868623d5154002aac799143",
      "closedAt": "2024-07-01T14:32:42Z",
      "mergedAt": "2024-07-01T14:32:42Z",
      "mergedBy": "ounsworth",
      "mergeCommit": {
        "oid": "b7af2a0599a6576fa221949eec0ee8794c5af59f"
      },
      "comments": [],
      "reviews": []
    },
    {
      "number": 4,
      "id": "PR_kwDOMB5Mfc50g3kr",
      "title": "Adding Use Cases",
      "url": "https://github.com/EntrustCorporation/draft-rats-pkix-evidence/pull/4",
      "state": "MERGED",
      "author": "hannestschofenig",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2024-07-05T08:41:34Z",
      "updatedAt": "2024-07-05T14:31:07Z",
      "baseRepository": "EntrustCorporation/draft-rats-pkix-evidence",
      "baseRefName": "main",
      "baseRefOid": "a3e56d74020416f8ab408f9e9ec4e4d830b06cf9",
      "headRepository": "EntrustCorporation/draft-rats-pkix-evidence",
      "headRefName": "hannestschofenig-patch-1",
      "headRefOid": "f045e23631931c849d4b5a068386dff603fbad84",
      "closedAt": "2024-07-05T14:31:07Z",
      "mergedAt": "2024-07-05T14:31:07Z",
      "mergedBy": "jpfiset",
      "mergeCommit": {
        "oid": "da74d993d4a1913f57fb688a7decabf684443971"
      },
      "comments": [],
      "reviews": [
        {
          "id": "PRR_kwDOMB5Mfc6Ay9T6",
          "commit": {
            "abbreviatedOid": "f045e23"
          },
          "author": "jpfiset",
          "authorAssociation": "COLLABORATOR",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2024-07-05T14:30:16Z",
          "updatedAt": "2024-07-05T14:30:16Z",
          "comments": []
        }
      ]
    }
  ]
}